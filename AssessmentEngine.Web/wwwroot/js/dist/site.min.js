const AjaxForm=function(o){this.sel=o.sel,this.$form=$(this.sel),this.action=this.$form.action};AjaxForm.prototype.serialize=function(){const o={};return this.$form.serializeArray().forEach(i=>o[i.name]=i.value),o},AjaxForm.prototype.submit=function(o, i, t){$.post(this.$form.attr("action"),o,i).fail(t)};const ManageParticipantView=function(){const o=new Vue({el:"#confirmationModal",data:{userId:null,action:null,modalTitle:"",modalText:""},methods:{confirmAction:function(){if(this.userId)switch(this.action){case"toggleLockout":$.post("/Identity/Participant/ToggleLockout?userId="+this.userId,()=>window.location.reload());break;case"delete":$.post("/Identity/Participant/Delete?userId="+this.userId,()=>window.location.reload())}},cancelAction:function(){this.userId=null,this.action=null,this.modalTitle="",this.modalText=""}}}),i=new Vue({el:"#grid",methods:{toggleLockout:function(i){o.action="toggleLockout",o.userId=i,o.modalTitle="Confirm",o.modalText="Are you sure you want to update this participant?",$("#confirmationModal").modal("show")},deleteParticipant:function(i){o.action="delete",o.userId=i,o.modalTitle="Confirm Delete",o.modalText="Are you sure you want to delete this participant?",$("#confirmationModal").modal("show")}}});return{confirmationModal:o,grid:i}},TaskVersion=function(o){$((function(){$("#loading").remove(),$("#blockGrid").show(),$("#editTaskVersion").on("submit",t)}));const i=new Vue({el:"#blockGrid",data:{blockVersions:o.blockVersions.map(o=>({isEditing:!1,uid:o.uid,blockTypeId:o.blockTypeId,blockType:o.blockType.name,cognitiveLoad:o.cognitiveLoad,series:o.series}))},methods:{editRow:function(o){const i=this.blockVersions.find(i=>i.uid===o);i&&(i.isEditing=!i.isEditing)},finishEdit:function(){this.blockVersions.forEach(o=>o.isEditing=!1)}}}),t=function(o){o.preventDefault();const t=new AjaxForm({sel:o.target}),e= o=>{},n=t.serialize();n.blockVersions=i.blockVersions.map(o=>({Id:o.id,Uid:o.uid,CognitiveLoad:o.cognitiveLoad,Series:o.series,BlockTypeId:o.blockTypeId})),t.submit(n, o=>{o.isValid?window.location.href="/Tasks/TaskVersion/":o.errors},e)};return{blockGrid:i,submitForm:t}};